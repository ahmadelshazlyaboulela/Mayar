<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙØ¹ÙŠØ§Ø± | Ma'yar - Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø§Ø°Ù„Ù‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Fira+Code:wght@400;500&family=Reem+Kufi:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --primary-yellow: #facc15; 
            --dark-bg: #0a0a0a;
            --accent-white: #ffffff;
        }
        
        body { 
            font-family: 'Cairo', sans-serif; 
            background-color: var(--dark-bg);
            color: var(--accent-white);
            transition: all 0.5s ease;
            overflow-x: hidden;
        }

        .kufi-font {
            font-family: 'Reem Kufi', sans-serif;
            letter-spacing: 1px;
        }

        #auth-screen {
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            position: fixed;
            inset: 0;
            z-index: 999;
        }

        .auth-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 2px solid var(--primary-yellow);
            box-shadow: 0 0 50px rgba(250, 204, 21, 0.1);
            border-radius: 2.5rem;
            width: 100%;
            max-width: 450px;
            padding: 2.5rem;
        }

        .input-field {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s;
        }

        .input-field:focus {
            border-color: var(--primary-yellow);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 15px rgba(250, 204, 21, 0.2);
        }

        #about-modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .about-card {
            background: rgba(15, 15, 15, 0.95);
            border: 2px solid var(--primary-yellow);
            border-radius: 2rem;
            max-width: 400px;
            width: 100%;
            padding: 2.5rem;
            position: relative;
            box-shadow: 0 0 40px rgba(250, 204, 21, 0.2);
        }

        .tech-mode { background-color: #050505 !important; }
        .tech-mode .glass-card { 
            border: 1px solid #00ff41 !important; 
            box-shadow: 0 0 30px rgba(0, 255, 65, 0.1) !important;
        }

        .glass-card { 
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }

        .nav-link { 
            position: relative; 
            padding: 1rem; 
            cursor: pointer; 
            color: #94a3b8;
            font-weight: 600;
        }

        .nav-link.active { 
            color: var(--primary-yellow); 
        }

        .nav-link.active::after { 
            content: ''; 
            position: absolute; 
            bottom: 0; 
            left: 20%; 
            right: 20%; 
            height: 4px; 
            background: var(--primary-yellow); 
            border-radius: 10px;
            box-shadow: 0 0 10px var(--primary-yellow);
        }

        #matrix-canvas { display: none; position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.1; }
        .tech-mode #matrix-canvas { display: block; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide { animation: slideUp 0.6s ease-out forwards; }
        
        .error-msg {
            color: #f87171;
            font-size: 0.75rem;
            margin-top: 0.25rem;
            display: none;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Auth Screen -->
    <div id="auth-screen">
        <div class="auth-card animate-slide">
            <div class="text-center mb-6">
                <div class="w-20 h-20 bg-yellow-400 rounded-2xl flex items-center justify-center text-black mx-auto mb-4 shadow-xl shadow-yellow-400/20">
                    <span class="text-4xl font-black italic">M</span>
                </div>
                <h1 class="text-3xl font-black text-white mb-1">Ù…ÙØ¹ÙŠØ§Ø± | Ma'yar</h1>
                <p class="text-yellow-400 font-bold">Engineer Ahmad El-Shazly</p>
            </div>
            
            <form id="login-form" class="space-y-4 text-right">
                <div>
                    <label class="text-xs text-slate-400 block mb-1 mr-2">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ (Ø¹Ø±Ø¨ÙŠ Ø£Ùˆ English)</label>
                    <input type="text" id="user-name" required class="input-field w-full p-3 rounded-xl outline-none text-center" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ">
                    <p id="name-error" class="error-msg text-center font-bold mt-2">Ø§Ù„Ø§Ø³Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­Ø±ÙˆÙ ÙÙ‚Ø·</p>
                </div>
                <div>
                    <label class="text-xs text-slate-400 block mb-1 mr-2">Ø§Ù„ÙƒÙ„ÙŠØ© / Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</label>
                    <select id="user-study" required class="input-field w-full p-3 rounded-xl outline-none text-center cursor-pointer">
                        <option value="" disabled selected>Ø§Ø®ØªØ± ÙƒÙ„ÙŠØªÙƒ Ø£Ùˆ ØªØ®ØµØµÙƒ</option>
                        <option value="Ù‡Ù†Ø¯Ø³Ø©">ÙƒÙ„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©</option>
                        <option value="Ø­Ø§Ø³Ø¨Ø§Øª">ÙƒÙ„ÙŠØ© Ø§Ù„Ø­Ø§Ø³Ø¨Ø§Øª ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</option>
                        <option value="Ø·Ø¨">ÙƒÙ„ÙŠØ© Ø§Ù„Ø·Ø¨ ÙˆØ§Ù„Ø¹Ù„ÙˆÙ…</option>
                        <option value="Ø«Ø§Ù†ÙˆÙŠØ© Ø¹Ø§Ù…Ø©">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
                        <option value="Ø£Ø®Ø±Ù‰">ØªØ®ØµØµ Ø¢Ø®Ø±</option>
                    </select>
                </div>
                <div>
                    <label class="text-xs text-slate-400 block mb-1 mr-2">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (11 Ø±Ù‚Ù…)</label>
                    <input type="tel" id="user-phone" maxlength="11" required class="input-field w-full p-3 rounded-xl outline-none text-center font-mono" placeholder="01xxxxxxxxx">
                    <p id="phone-error" class="error-msg text-center font-bold mt-2">ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ 11 Ø±Ù‚Ù…Ø§Ù‹ ØµØ­ÙŠØ­Ø§Ù‹</p>
                </div>
                <div id="general-error" class="text-red-400 text-xs text-center hidden font-bold">ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©</div>
                <button type="submit" class="w-full bg-yellow-400 hover:bg-yellow-500 text-black font-black py-4 rounded-2xl transition-all shadow-lg shadow-yellow-400/20 mt-4 transform active:scale-95">
                    Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ù†ØµØ© ğŸš€
                </button>
            </form>
            <p class="text-[10px] text-slate-500 mt-6 uppercase tracking-widest text-center">Sphinx University Inspired Design</p>
        </div>
    </div>

    <!-- Main Platform -->
    <div id="main-app" class="hidden">
        <canvas id="matrix-canvas"></canvas>

        <header class="bg-black/50 backdrop-blur-md border-b border-white/5 sticky top-0 z-50">
            <div class="container mx-auto px-6 py-4 flex flex-col lg:flex-row justify-between items-center">
                <div class="flex items-center gap-4">
                    <div class="bg-yellow-400 w-12 h-12 rounded-xl flex items-center justify-center text-black shadow-lg shadow-yellow-400/10">
                        <span class="text-2xl font-black italic">M</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-black text-white tracking-tight">Ù…ÙØ¹ÙŠØ§Ø± Pro</h1>
                        <p id="welcome-msg" class="text-xs text-yellow-400 font-bold"></p>
                    </div>
                </div>

                <nav class="flex overflow-x-auto gap-1 mt-6 lg:mt-0 bg-white/5 p-1 rounded-2xl border border-white/5">
                    <div onclick="setPortal('general')" id="nav-general" class="nav-link active">ğŸ  Ø§Ù„Ø¹Ø§Ù…</div>
                    <div onclick="setPortal('engineering')" id="nav-engineering" class="nav-link">âš™ï¸ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©</div>
                    <div onclick="setPortal('cs')" id="nav-cs" class="nav-link">ğŸ’¾ Ø§Ù„Ø­Ø§Ø³Ø¨Ø§Øª</div>
                    <div onclick="setPortal('numbers')" id="nav-numbers" class="nav-link">ğŸ”¢ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©</div>
                    <div onclick="setPortal('medical')" id="nav-medical" class="nav-link">ğŸ§ª Ø§Ù„Ø¹Ù„ÙˆÙ…</div>
                    <div onclick="setPortal('history')" id="nav-history" class="nav-link">ğŸ›ï¸ Ø§Ù„ØªØ±Ø§Ø«</div>
                </nav>
            </div>
        </header>

        <main class="container mx-auto px-4 py-8 max-w-5xl">
            <div class="glass-card rounded-[3rem] p-8 md:p-14 mb-8 relative overflow-hidden">
                <div class="flex flex-col md:flex-row justify-between items-start mb-10 text-right">
                    <div>
                        <span id="portal-badge" class="px-4 py-1.5 bg-yellow-400/10 text-yellow-400 rounded-full text-[10px] font-black tracking-widest uppercase">GENERAL MODE</span>
                        <h2 id="portal-name" class="text-4xl font-black mt-4 mb-2 text-white leading-tight">Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ</h2>
                        <p id="portal-desc" class="text-slate-400 text-sm">Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø·ÙˆØ±Ø© Ù„Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙÙˆØ±ÙŠ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø§Ø°Ù„Ù‰.</p>
                    </div>
                    <div id="portal-icon" class="hidden md:block text-7xl opacity-5">ğŸŒ</div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-11 gap-10 items-center text-right">
                    <div class="lg:col-span-5 space-y-5">
                        <input type="text" id="search-dim" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† ÙØ¦Ø©..." oninput="filterDimensions()" class="w-full p-4 rounded-2xl bg-white/5 border border-white/10 outline-none focus:border-yellow-400 text-sm transition-all text-right">
                        <select id="dimension-select" onchange="loadUnits()" class="w-full p-4 rounded-2xl bg-white/5 border border-white/10 outline-none focus:border-yellow-400 text-white cursor-pointer text-right"></select>
                        <select id="unit-from" onchange="runConversion()" class="w-full p-4 rounded-2xl bg-white/10 border border-white/10 text-white outline-none text-right"></select>
                        <input type="text" id="input-value" value="1" oninput="runConversion()" class="w-full p-6 text-4xl font-black rounded-3xl bg-white/5 border-2 border-yellow-400/20 text-yellow-400 text-center outline-none focus:border-yellow-400 transition-all">
                    </div>

                    <div class="lg:col-span-1 flex justify-center">
                        <button onclick="swapUnits()" class="w-16 h-16 rounded-full bg-yellow-400 text-black shadow-2xl hover:scale-110 transition-transform flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4" /></svg>
                        </button>
                    </div>

                    <div class="lg:col-span-5 space-y-5">
                        <div class="hidden lg:block h-[130px]"></div>
                        <select id="unit-to" onchange="runConversion()" class="w-full p-4 rounded-2xl bg-white/10 border border-white/10 text-white outline-none text-right"></select>
                        <div id="result-box" class="w-full p-8 min-h-[120px] flex flex-col items-center justify-center rounded-[2.5rem] bg-yellow-400 text-black shadow-inner relative group">
                            <button onclick="copyToClipboard()" class="absolute top-4 left-4 p-2 bg-black/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" /></svg>
                            </button>
                            <span id="output-val" class="text-4xl font-black break-all text-center">0</span>
                            <span class="text-[10px] font-black opacity-50 mt-2 uppercase">Result Verified by Ahmad El-Shazly</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History and Notes -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-right">
                <div class="glass-card p-8 rounded-[2rem]">
                    <h3 class="font-bold text-yellow-400 mb-6 flex items-center gap-3 justify-end"><span>ğŸ•’</span> Ø³Ø¬Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h3>
                    <div id="history-list" class="space-y-3 text-xs">
                        <p class="text-slate-500 italic">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³Ø¬Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù„Ù…Ø³ØªØ®Ø¯Ù…Ù†Ø§ Ø§Ù„Ø¬Ø¯ÙŠØ¯...</p>
                    </div>
                </div>
                <div class="glass-card p-8 rounded-[2rem]">
                    <h3 class="font-bold text-yellow-400 mb-6 flex items-center gap-3 justify-end"><span>ğŸ“–</span> Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙÙ†ÙŠØ© (Notes)</h3>
                    <table class="w-full text-right text-xs">
                        <tr class="border-b border-white/5"> <th class="pb-3 text-slate-400">Ø§Ù„Ø±Ù…Ø²</th> <th class="pb-3 text-slate-400 text-left">Ø§Ù„Ù…Ø¹Ù†Ù‰</th> </tr>
                        <tr> <td class="py-3 font-bold text-right">e+n</td> <td class="text-left font-mono">10^n</td> </tr>
                        <tr> <td class="py-3 font-bold text-right">QB</td> <td class="text-left font-mono">Quettabyte</td> </tr>
                        <tr> <td class="py-3 font-bold text-right">Cubit</td> <td class="text-left">Ø§Ù„Ø°Ø±Ø§Ø¹ Ø§Ù„Ù…Ù„ÙƒÙŠ</td> </tr>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- About Us Button -->
    <button onclick="toggleAbout(true)" class="fixed bottom-6 right-6 w-16 h-16 bg-yellow-400 text-black rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform z-[100] group">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
        <span class="absolute right-20 bg-yellow-400 text-black px-4 py-2 rounded-xl font-bold text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity">About Us</span>
    </button>

    <!-- About Modal -->
    <div id="about-modal" onclick="toggleAbout(false)">
        <div class="about-card text-center animate-slide" onclick="event.stopPropagation()">
            <!-- Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ© Ù…Ø¹ Ø§Ø³Ù… Ù…Ù„Ù Ù…Ø¨Ø³Ø· Ù„ØªØ¬Ù†Ø¨ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªØ´ÙÙŠØ± -->
            <div class="w-32 h-32 rounded-full border-4 border-yellow-400 mx-auto mb-6 overflow-hidden shadow-2xl shadow-yellow-400/20">
                <img src="ahmad.jpg" alt="Ø£Ø­Ù…Ø¯ Ø´Ø§Ø°Ù„Ù‰" class="w-full h-full object-cover object-top" onerror="this.src='https://via.placeholder.com/150'">
            </div>
            <h3 class="text-slate-400 text-sm mb-2 uppercase tracking-widest">ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ù†ØµØ©</h3>
            <h2 class="text-4xl font-bold text-yellow-400 kufi-font mb-4">Ø£Ø­Ù…Ø¯ Ø´Ø§Ø°Ù„Ù‰</h2>
            <div class="space-y-3 text-slate-300 text-sm">
                <p>ğŸ“ Ø·Ø§Ù„Ø¨ Ø¨Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© | Ø­Ø§Ø³Ø¨Ø§Øª Ø³ÙÙ†ÙƒØ³</p>
                <div class="h-px bg-white/10 my-4"></div>
                <p class="text-xs text-slate-500 mb-1">ØªÙˆØ§ØµÙ„ Ù…Ø¨Ø§Ø´Ø±Ø©:</p>
                <p class="text-xl font-mono text-white tracking-widest">01505167066</p>
            </div>
            <button onclick="toggleAbout(false)" class="mt-8 text-xs text-yellow-400 hover:underline">Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©</button>
        </div>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-yellow-400 text-black px-8 py-4 rounded-2xl font-bold shadow-2xl opacity-0 transition-opacity pointer-events-none z-[100]">ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨Ù†Ø¬Ø§Ø­! âœ…</div>

    <script>
        const db = {
            length: { label: "Ø§Ù„Ø·ÙˆÙ„ ğŸ“", base: "m", units: [
                { name: "Ù…ØªØ±", sym: "m", factor: 1 }, { name: "Ø³Ù†ØªÙŠÙ…ØªØ±", sym: "cm", factor: 0.01 },
                { name: "ÙƒÙŠÙ„ÙˆÙ…ØªØ±", sym: "km", factor: 1000 }, { name: "Ø¨ÙˆØµØ©", sym: "in", factor: 0.0254 },
                { name: "Ù‚Ø¯Ù…", sym: "ft", factor: 0.3048 }, { name: "Ù…ÙŠÙ„", sym: "mi", factor: 1609.34 },
                { name: "Ø°Ø±Ø§Ø¹ Ù…Ù„ÙƒÙŠ", sym: "cubit", factor: 0.525 }
            ]},
            mass: { label: "Ø§Ù„ÙƒØªÙ„Ø© âš–ï¸", base: "kg", units: [
                { name: "ÙƒÙŠÙ„ÙˆØºØ±Ø§Ù…", sym: "kg", factor: 1 }, { name: "ØºØ±Ø§Ù…", sym: "g", factor: 0.001 },
                { name: "Ø±Ø·Ù„", sym: "lb", factor: 0.453592 }, { name: "Ø£ÙˆÙ‚ÙŠØ©", sym: "oz", factor: 0.0283495 },
                { name: "Ù…Ø«Ù‚Ø§Ù„", sym: "mithqal", factor: 0.00425 }
            ]},
            data: { label: "Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ğŸ’¾", base: "B", units: [
                { name: "Ø¨Ø§ÙŠØª", sym: "B", factor: 1 }, { name: "Ø¨Øª", sym: "bit", factor: 0.125 },
                { name: "ÙƒÙŠÙ„ÙˆØ¨Ø§ÙŠØª", sym: "KB", factor: 1024 }, { name: "Ù…ÙŠØºØ§Ø¨Ø§ÙŠØª", sym: "MB", factor: 1024**2 },
                { name: "ØºÙŠØºØ§Ø¨Ø§ÙŠØª", sym: "GB", factor: 1024**3 }, { name: "ØªÙŠØ±Ø§Ø¨Ø§ÙŠØª", sym: "TB", factor: 1024**4 },
                { name: "Ø¨ÙŠØªØ§Ø¨Ø§ÙŠØª", sym: "PB", factor: 1024**5 }, { name: "ÙƒÙˆÙŠØªØ§Ø¨Ø§ÙŠØª", sym: "QB", factor: 1024**10 }
            ]},
            numbers: { label: "Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ© ğŸ”¢", isNumerical: true, units: [
                { name: "Ø¹Ø´Ø±ÙŠ", sym: "dec", base: 10 }, { name: "Ø«Ù†Ø§Ø¦ÙŠ", sym: "bin", base: 2 },
                { name: "Ø³Øª Ø¹Ø´Ø±ÙŠ", sym: "hex", base: 16 }, { name: "Ø«Ù…Ø§Ù†ÙŠ", sym: "oct", base: 8 }
            ]},
            pressure: { label: "Ø§Ù„Ø¶ØºØ· ğŸˆ", base: "Pa", units: [
                { name: "Ø¨Ø§Ø³ÙƒØ§Ù„", sym: "Pa", factor: 1 }, { name: "Ø¨Ø§Ø±", sym: "bar", factor: 100000 },
                { name: "ATM", sym: "atm", factor: 101325 }
            ]}
        };

        const portals = {
            general: { badge: "GENERAL MODE", title: "Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ", icon: "ğŸŒ", desc: "ÙƒØ§ÙØ© Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© Ø¯ÙˆÙ„ÙŠØ§Ù‹.", dims: ['length', 'mass', 'data', 'pressure'] },
            engineering: { badge: "ENGINEERING HUB", title: "Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³", icon: "âš™ï¸", desc: "ÙˆØ­Ø¯Ø§Øª Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§ØŒ Ø§Ù„Ù‚ÙˆÙ‰ ÙˆØ§Ù„Ø¶ØºØ· ÙˆØ§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©.", dims: ['pressure', 'length'] },
            cs: { badge: "CS PORTAL", title: "Ø±ÙƒÙ† Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ÙŠÙ†", icon: "ğŸ’¾", desc: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ø¶Ø®Ù…Ø©.", dims: ['data', 'numbers'] },
            numbers: { badge: "HACKER MODE", title: "Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©", icon: "ğŸ‘¾", desc: "Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¨ÙŠÙ† Ù„ØºØ© Ø§Ù„Ø¢Ù„Ø© ÙˆØ§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ©.", dims: ['numbers'] },
            medical: { badge: "MEDICAL SCIENCE", title: "Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø®Ø¨Ø±ÙŠ", icon: "ğŸ§ª", desc: "ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØ§Ù„Ø¶ØºØ· Ø§Ù„Ø·Ø¨ÙŠ ÙˆØ§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©.", dims: ['mass', 'length'] },
            history: { badge: "HERITAGE VAULT", title: "Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®", icon: "ğŸ›ï¸", desc: "Ø§ÙƒØªØ´Ù ÙˆØ­Ø¯Ø§Øª Ù‚ÙŠØ§Ø³ Ø§Ù„Ø­Ø¶Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø¸ÙŠÙ…Ø©.", dims: ['length', 'mass'] }
        };

        let currentPortalKey = 'general';
        let history = [];

        document.getElementById('login-form').onsubmit = function(e) {
            e.preventDefault();
            const name = document.getElementById('user-name').value.trim();
            const study = document.getElementById('user-study').value;
            const phone = document.getElementById('user-phone').value.trim();
            
            let isValid = true;
            document.getElementById('name-error').style.display = 'none';
            document.getElementById('phone-error').style.display = 'none';
            document.getElementById('general-error').style.display = 'none';

            const nameRegex = /^[a-zA-Z\u0600-\u06FF\s]+$/;
            if (!nameRegex.test(name)) {
                document.getElementById('name-error').style.display = 'block';
                isValid = false;
            }

            const phoneRegex = /^[0-9]{11}$/;
            if (!phoneRegex.test(phone)) {
                document.getElementById('phone-error').style.display = 'block';
                isValid = false;
            }

            if (isValid) {
                localStorage.setItem('mayar_user', name);
                localStorage.setItem('mayar_study', study);
                showPlatform(name, study);
            } else {
                document.getElementById('general-error').style.display = 'block';
            }
        };

        function showPlatform(name, study) {
            document.getElementById('auth-screen').style.display = 'none';
            document.getElementById('main-app').classList.remove('hidden');
            document.getElementById('welcome-msg').innerText = `${name} | ${study}`;
            setPortal('general');
        }

        function toggleAbout(show) {
            const modal = document.getElementById('about-modal');
            modal.style.display = show ? 'flex' : 'none';
        }

        window.onload = function() {
            initM();
            const savedName = localStorage.getItem('mayar_user');
            const savedStudy = localStorage.getItem('mayar_study');
            if(savedName && savedStudy) {
                showPlatform(savedName, savedStudy);
            }
        };

        function setPortal(key) {
            currentPortalKey = key;
            const p = portals[key];
            document.body.classList.toggle('tech-mode', key === 'numbers');
            document.querySelectorAll('.nav-link').forEach(l => l.classList.toggle('active', l.id === 'nav-' + key));
            document.getElementById('portal-badge').innerText = p.badge;
            document.getElementById('portal-name').innerText = p.title;
            document.getElementById('portal-desc').innerText = p.desc;
            document.getElementById('portal-icon').innerText = p.icon;
            filterDimensions(); 
        }

        function filterDimensions() {
            const query = document.getElementById('search-dim').value.toLowerCase();
            const p = portals[currentPortalKey];
            const dimSel = document.getElementById('dimension-select');
            dimSel.innerHTML = '';
            p.dims.forEach(d => {
                if (db[d].label.toLowerCase().includes(query)) {
                    dimSel.add(new Option(db[d].label, d));
                }
            });
            loadUnits();
        }

        function loadUnits() {
            const dimKey = document.getElementById('dimension-select').value;
            if(!dimKey) return;
            const units = db[dimKey].units;
            const from = document.getElementById('unit-from');
            const to = document.getElementById('unit-to');
            from.innerHTML = ''; to.innerHTML = '';
            units.forEach(u => {
                from.add(new Option(`${u.name} (${u.sym})`, u.sym));
                to.add(new Option(`${u.name} (${u.sym})`, u.sym));
            });
            if (units.length > 1) to.selectedIndex = 1;
            runConversion();
        }

        function runConversion() {
            const val = document.getElementById('input-value').value.trim();
            const dimKey = document.getElementById('dimension-select').value;
            const fromSym = document.getElementById('unit-from').value;
            const toSym = document.getElementById('unit-to').value;
            const outDisplay = document.getElementById('output-val');
            if (!val || !dimKey) { outDisplay.innerText = "0"; return; }
            const dim = db[dimKey];
            const uFrom = dim.units.find(u => u.sym === fromSym);
            const uTo = dim.units.find(u => u.sym === toSym);

            let resStr = "";
            if (dim.isNumerical) {
                try {
                    let dec = parseInt(val, uFrom.base);
                    resStr = isNaN(dec) ? "âš ï¸" : dec.toString(uTo.base).toUpperCase();
                } catch(e) { resStr = "âš ï¸"; }
            } else {
                let num = parseFloat(val);
                if (isNaN(num)) resStr = "0";
                else {
                    let res = (num * uFrom.factor) / uTo.factor;
                    resStr = (res === 0) ? "0" : (Math.abs(res) > 1e10 || Math.abs(res) < 1e-6) ? res.toExponential(4) : parseFloat(res.toFixed(8)).toString();
                }
            }
            outDisplay.innerText = resStr;
            addToHistory(val, uFrom.name, resStr, uTo.name);
        }

        function swapUnits() {
            const f = document.getElementById('unit-from');
            const t = document.getElementById('unit-to');
            [f.value, t.value] = [t.value, f.value];
            runConversion();
        }

        function addToHistory(i, f, o, t) {
            if (o === "âš ï¸" || o === "0") return;
            const entry = `${i} ${f} â®• ${o} ${t}`;
            if (history[0] === entry) return;
            history.unshift(entry);
            if (history.length > 5) history.pop();
            const list = document.getElementById('history-list');
            list.innerHTML = history.map(h => `<div class="p-3 bg-white/5 border border-white/5 rounded-xl animate-slide text-right">${h}</div>`).join('');
        }

        function copyToClipboard() {
            const text = document.getElementById('output-val').innerText;
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            const toast = document.getElementById('toast');
            toast.style.opacity = "1";
            setTimeout(() => toast.style.opacity = "0", 2000);
        }

        const c = document.getElementById('matrix-canvas');
        const ctx = c.getContext('2d');
        let w, h, cols, fontS = 16, dps = [];
        function initM() { w = c.width = window.innerWidth; h = c.height = window.innerHeight; cols = Math.floor(w / fontS); dps = new Array(cols).fill(1); }
        function drawM() {
            if (currentPortalKey !== 'numbers') return;
            ctx.fillStyle = 'rgba(0,0,0,0.05)'; ctx.fillRect(0,0,w,h);
            ctx.fillStyle = '#facc15'; ctx.font = fontS + 'px monospace';
            for(let i=0; i<dps.length; i++){
                ctx.fillText(Math.floor(Math.random()*2), i*fontS, dps[i]*fontS);
                if(dps[i]*fontS > h && Math.random() > 0.975) dps[i] = 0;
                dps[i]++;
            }
        }
        window.onresize = initM; setInterval(drawM, 50);
    </script>
</body>
</html>